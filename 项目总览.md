# 📊 AKShare 财报数据可视化平台 - 项目总览

## 🎯 项目简介

这是一个基于 **FastAPI** 和 **AKShare** 的财报数据可视化平台,提供 A股和港股的财务数据查询,并集成了投资学习思维导图功能。

**在线访问**: https://web-production-b3d5b.up.railway.app/

## ✨ 核心功能

### 1️⃣ 财报数据查询
- 🔍 智能搜索 A股/港股公司
- 📈 资产负债表查看
- 💰 利润表分析
- 💵 现金流量表展示
- 📊 财务指标计算(毛利率、净利率、资产负债率等)
- 🎨 数据可视化展示(自动单位转换、正负着色)

### 2️⃣ 思维导图学习
- 📚 《聪明的投资者》思维导图
- 🎯 《竞争战略》思维导图
- 📖 Markdown 格式完美渲染
- 🎨 Mermaid 图表支持
- 📱 响应式布局,移动端友好

### 3️⃣ API 文档
- 📝 完整的接口调用说明
- 💡 请求/响应示例
- 📋 字段说明表格
- 🔧 快速上手指南

## 🏗️ 项目结构

```
akshare-api/
├── 📁 static/                    # 前端静态文件
│   ├── index.html               # 主页面
│   ├── styles.css               # 样式文件
│   └── app.js                   # 交互逻辑
│
├── 📁 思维导图/                   # 思维导图文件
│   ├── 聪明的投资者-完整思维导图.md
│   ├── 竞争战略-完整思维导图.md
│   └── 竞争战略-图形版.md
│
├── 📄 main.py                    # FastAPI 后端主文件
├── 📄 requirements.txt           # Python 依赖
├── 📄 Procfile                   # Railway 部署配置
├── 📄 railway.json               # Railway 配置
│
├── 📚 前端使用说明.md             # 用户使用文档
├── 📚 DEPLOYMENT.md              # 部署指南
├── 📚 项目总览.md                # 本文件
├── 📚 API文档.md                 # API 技术文档
│
└── 🧪 test_*.py                 # 测试文件
```

## 🎨 界面预览

### 主界面特点
- 🎨 现代化设计风格
- 🌓 深色侧边栏 + 浅色内容区
- 📱 完全响应式布局
- ⚡ 流畅的动画效果
- 🎯 直观的操作体验

### 三大功能模块
1. **接口测试** - 快速查询公司财报
2. **思维导图** - 学习投资知识
3. **API文档** - 开发者参考

## 🚀 快速开始

### 本地运行

```bash
# 1. 安装依赖
pip install -r requirements.txt

# 2. 启动服务
python3 main.py

# 3. 访问界面
# 打开浏览器: http://localhost:8000
```

### 部署到 Railway

```bash
# 1. 提交代码
git add .
git commit -m "添加可视化前端界面"
git push origin main

# 2. Railway 自动部署
# 等待几分钟即可完成

# 3. 访问线上地址
# https://web-production-b3d5b.up.railway.app/
```

详细部署说明请查看 [DEPLOYMENT.md](./DEPLOYMENT.md)

## 📡 API 接口

### 核心接口

| 接口 | 方法 | 说明 |
|------|------|------|
| `/` | GET | 返回可视化界面 |
| `/health` | GET | 健康检查 |
| `/api/financial-report` | POST | 获取财报数据 |
| `/api/search` | GET | 搜索股票 |
| `/api/mindmaps` | GET | 获取思维导图列表 |
| `/api/mindmap/{filename}` | GET | 获取思维导图内容 |

### 使用示例

```javascript
// 查询茅台财报
fetch('/api/financial-report', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    company: '茅台',
    market: 'A'
  })
})
```

详细 API 文档请查看 [API文档.md](./API文档.md)

## 🛠️ 技术栈

### 后端
- **FastAPI** - 现代化 Python Web 框架
- **AKShare** - 金融数据接口
- **Pandas** - 数据处理
- **Uvicorn** - ASGI 服务器

### 前端
- **原生 HTML/CSS/JavaScript** - 无需构建工具
- **Marked.js** - Markdown 解析
- **Mermaid.js** - 图表渲染
- **响应式设计** - 适配各种设备

### 部署
- **Railway** - 云平台部署
- **Git** - 版本控制

## 📊 数据说明

### A股数据源
- 东方财富网 (股票搜索)
- 同花顺 (财务报表)
- 数据更新: 实时

### 港股数据源
- 东方财富网 (港股数据)
- 数据更新: 准实时

### 数据特点
- ✅ 自动单位转换(亿/万)
- ✅ 关键指标计算
- ✅ 多年数据对比
- ✅ 最新季报 + 近3年年报

## 🎓 思维导图说明

目前包含以下投资学习思维导图:

1. **聪明的投资者**
   - 本杰明·格雷厄姆经典著作
   - 价值投资理论体系
   - 适合初学者系统学习

2. **竞争战略**
   - 迈克尔·波特战略理论
   - 企业竞争分析框架
   - 适合深入研究企业

支持添加更多 `.md` 格式的思维导图到 `思维导图/` 目录。

## 🔥 使用案例

### 场景 1: 研究投资标的
1. 输入公司名称查询财报
2. 查看资产负债表评估财务健康
3. 分析利润表了解盈利能力
4. 对比多期数据发现趋势

### 场景 2: 学习投资知识
1. 打开思维导图模块
2. 浏览《聪明的投资者》
3. 系统学习价值投资理论
4. 结合财报实践分析

### 场景 3: n8n 工作流集成
1. 使用 POST API 获取财报
2. 在 n8n 中处理数据
3. 生成分析报告
4. 自动化投资分析流程

## 📈 未来规划

### 短期计划
- [ ] 添加更多财务指标图表
- [ ] 支持多公司对比
- [ ] 历史数据趋势图
- [ ] 搜索历史记录

### 长期规划
- [ ] 用户登录系统
- [ ] 自定义仪表盘
- [ ] AI 财报分析
- [ ] 实时股价提醒
- [ ] 更多思维导图内容

## 🐛 已知问题

1. **某些小公司数据不完整**
   - 原因: 源网站数据缺失
   - 解决: 仅显示可用数据

2. **港股数据更新延迟**
   - 原因: 数据源更新时间
   - 解决: 添加数据时间戳

3. **移动端表格横向滚动**
   - 原因: 表格列数较多
   - 解决: 已支持横向滚动查看

## 🤝 贡献指南

欢迎提交 Issue 和 Pull Request!

### 如何贡献思维导图
1. 准备 Markdown 格式的思维导图
2. 放入 `思维导图/` 目录
3. 提交 Pull Request
4. 等待审核合并

### 如何报告问题
1. 描述问题现象
2. 提供复现步骤
3. 附上错误截图
4. 说明使用环境

## 📞 联系方式

- 项目地址: [GitHub/GitLab 链接]
- 在线演示: https://web-production-b3d5b.up.railway.app/
- 问题反馈: [Issue 链接]

## 📄 许可证

本项目仅供学习和研究使用,请勿用于商业目的。

数据来源于公开渠道,仅供参考,不构成投资建议。

---

## 🎉 致谢

感谢以下开源项目:
- [AKShare](https://github.com/akfamily/akshare) - 金融数据接口
- [FastAPI](https://fastapi.tiangolo.com/) - Web 框架
- [Marked](https://marked.js.org/) - Markdown 解析
- [Mermaid](https://mermaid.js.org/) - 图表渲染

---

**投资有风险,入市需谨慎** ⚠️

**祝您投资顺利! 📈**
