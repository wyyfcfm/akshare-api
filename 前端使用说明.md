# AKShare 财报数据可视化平台 - 使用说明

## 🎉 功能特性

### 1. 财报数据查询
- 支持 A股 和 港股 公司财报查询
- 提供资产负债表、利润表、现金流量表、财务指标
- 自动计算关键财务比率(毛利率、净利率、资产负债率等)
- 数据格式化展示(亿、万单位自动转换)

### 2. 思维导图查看
- 支持在线浏览 Markdown 格式的思维导图
- 自动渲染 Mermaid 图表
- 美观的排版和代码高亮

### 3. API 文档
- 完整的接口调用说明
- 示例代码和响应格式
- 字段说明表格

## 🚀 部署步骤

### 1. 安装依赖

确保 `requirements.txt` 包含:
```
fastapi
uvicorn
akshare
pandas
```

### 2. 启动服务

本地测试:
```bash
python main.py
```

或使用 uvicorn:
```bash
uvicorn main:app --host 0.0.0.0 --port 8000 --reload
```

### 3. 访问界面

浏览器打开:
- 本地: http://localhost:8000
- Railway: https://web-production-b3d5b.up.railway.app/

## 📱 界面使用指南

### 接口测试页面

1. **搜索股票**
   - 输入公司名称(如"茅台"、"腾讯控股")
   - 选择市场(可选): 自动识别、A股、港股
   - 点击"查询"按钮

2. **快速查询**
   - 点击预设的快捷按钮快速查询热门股票

3. **查看财报**
   - 查询成功后会显示股票基本信息
   - 切换标签页查看不同财报类型:
     - 资产负债表
     - 利润表
     - 现金流量表
     - 财务指标

### 思维导图页面

1. **浏览列表**
   - 显示所有可用的思维导图
   - 点击卡片进入详情

2. **查看内容**
   - 支持 Markdown 格式渲染
   - 支持 Mermaid 图表
   - 点击"返回列表"回到列表页

### API文档页面

- 查看所有可用的 API 接口
- 包含请求示例和响应格式
- 字段说明参考表

## 🎨 设计特点

### 现代化UI设计
- 响应式布局,支持手机和平板
- 清新的配色方案
- 流畅的动画效果
- 深色侧边栏 + 浅色内容区

### 用户体验优化
- 加载状态提示
- 错误信息友好展示
- 数据表格自动着色(正数绿色,负数红色)
- 快捷操作按钮

### 技术特性
- 纯前端实现(HTML + CSS + JavaScript)
- 使用 marked.js 解析 Markdown
- 使用 Mermaid 渲染图表
- 无需构建工具,直接部署

## 🔧 配置说明

### 添加更多思维导图

只需将 `.md` 文件放入 `思维导图/` 目录即可自动识别。

支持的 Markdown 特性:
- 标题 (H1-H6)
- 列表 (有序/无序)
- 表格
- 代码块
- 引用
- Mermaid 图表

### 自定义样式

修改 `static/styles.css` 中的 CSS 变量:

```css
:root {
    --primary-color: #3b82f6;    /* 主题色 */
    --secondary-color: #10b981;  /* 辅助色 */
    --sidebar-bg: #1e293b;       /* 侧边栏背景 */
    /* ... */
}
```

## 📊 API 接口

### 1. 获取财报数据
```bash
POST /api/financial-report
Content-Type: application/json

{
  "company": "茅台",
  "market": "A"
}
```

### 2. 搜索股票
```bash
GET /api/search?keyword=茅台&market=A
```

### 3. 获取思维导图列表
```bash
GET /api/mindmaps
```

### 4. 获取思维导图内容
```bash
GET /api/mindmap/聪明的投资者-完整思维导图.md
```

## 🐛 常见问题

### 1. 页面无法访问?
- 检查服务是否启动
- 确认端口是否被占用
- 查看终端错误日志

### 2. 财报数据查询失败?
- 检查公司名称是否正确
- 某些小公司可能没有完整财报数据
- 港股数据可能更新较慢

### 3. 思维导图显示异常?
- 确认 Markdown 文件编码为 UTF-8
- 检查 Mermaid 语法是否正确
- 清除浏览器缓存重试

## 📝 更新日志

### v1.0.0 (2026-02-14)
- ✅ 完整的财报查询功能
- ✅ 思维导图在线查看
- ✅ API 文档页面
- ✅ 现代化 UI 设计
- ✅ 响应式布局

## 🤝 技术支持

如有问题或建议,请联系开发者。

---

**Powered by AKShare & FastAPI**
